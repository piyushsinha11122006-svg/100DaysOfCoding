// 101. First & Last Occurrence in Sorted Array (Binary Search O(log n))
#include <stdio.h>

int firstOcc(int a[], int n, int target) {
    int l = 0, r = n - 1, ans = -1;
    while(l <= r) {
        int mid = (l + r) / 2;
        if(a[mid] == target) {
            ans = mid;
            r = mid - 1;
        } else if(a[mid] > target) r = mid - 1;
        else l = mid + 1;
    }
    return ans;
}

int lastOcc(int a[], int n, int target) {
    int l = 0, r = n - 1, ans = -1;
    while(l <= r) {
        int mid = (l + r) / 2;
        if(a[mid] == target) {
            ans = mid;
            l = mid + 1;
        } else if(a[mid] > target) r = mid - 1;
        else l = mid + 1;
    }
    return ans;
}

int main() {
    int n, target;
    scanf("%d", &n);
    int a[n];
    for(int i=0; i<n; i++) scanf("%d", &a[i]);
    scanf("%d", &target);

    int first = firstOcc(a, n, target);
    int last  = lastOcc(a, n, target);

    printf("%d %d", first, last);
    return 0;
}


// 102. Ceil of X in Sorted Array (Binary Search O(log n))
#include <stdio.h>

int main() {
    int n, x;
    scanf("%d", &n);
    int a[n];
    for(int i=0; i<n; i++) scanf("%d", &a[i]);
    scanf("%d", &x);

    int l = 0, r = n - 1, ans = -1;

    while(l <= r) {
        int mid = (l + r) / 2;
        if(a[mid] >= x) {
            ans = mid;
            r = mid - 1;
        } else {
            l = mid + 1;
        }
    }

    printf("%d", ans);
    return 0;
}

// 103. Pivot Index (O(n))
#include <stdio.h>

int main() {
    int n;
    scanf("%d", &n);

    int a[n];
    int total = 0;
    for(int i=0; i<n; i++) {
        scanf("%d", &a[i]);
        total += a[i];
    }

    int leftSum = 0;

    for(int i=0; i<n; i++) {
        if(leftSum == total - leftSum - a[i]) {
            printf("%d", i);
            return 0;
        }
        leftSum += a[i];
    }

    printf("-1");
    return 0;
}

// 104. Pivot Integer (Math O(1))
#include <stdio.h>
#include <math.h>

int main() {
    int n;
    scanf("%d", &n);

    int v = n * (n + 1) / 2;
    int x = sqrt(v);

    if(x * x == v) printf("%d", x);
    else printf("-1");

    return 0;
}

// 105. Majority Element (O(n), Boyerâ€“Moore)
#include <stdio.h>

int main() {
    int n;
    scanf("%d", &n);
    int a[n];

    for(int i=0; i<n; i++) scanf("%d", &a[i]);

    int cand = -1, count = 0;

    for(int i=0; i<n; i++) {
        if(count == 0) {
            cand = a[i];
            count = 1;
        } else if(a[i] == cand) count++;
        else count--;
    }

    count = 0;
    for(int i=0; i<n; i++) if(a[i] == cand) count++;

    if(count > n/2) printf("%d", cand);
    else printf("-1");

    return 0;
}

// 106. Next Greater Element (Brute Force)
#include <stdio.h>

int main() {
    int n;
    scanf("%d",&n);

    int a[n];
    for(int i=0;i<n;i++) scanf("%d",&a[i]);

    for(int i=0;i<n;i++) {
        int next = -1;
        for(int j=i+1;j<n;j++) {
            if(a[j] > a[i]) {
                next = a[j];
                break;
            }
        }
        printf("%d", next);
        if(i != n-1) printf(",");
    }

    return 0;
}

// 107. Previous Greater Element (Brute Force)
#include <stdio.h>

int main() {
    int n;
    scanf("%d",&n);

    int a[n];
    for(int i=0;i<n;i++) scanf("%d",&a[i]);

    for(int i=0;i<n;i++) {
        int prev = -1;
        for(int j=i-1;j>=0;j--) {
            if(a[j] > a[i]) {
                prev = a[j];
                break;
            }
        }
        printf("%d", prev);
        if(i != n-1) printf(",");
    }

    return 0;
}

// 108. Product Except Self (O(n), No Division)
#include <stdio.h>

int main() {
    int n;
    scanf("%d",&n);
    int a[n], left[n], right[n], ans[n];

    for(int i=0;i<n;i++) scanf("%d",&a[i]);

    left[0] = 1;
    for(int i=1;i<n;i++) left[i] = left[i-1] * a[i-1];

    right[n-1] = 1;
    for(int i=n-2;i>=0;i--) right[i] = right[i+1] * a[i+1];

    for(int i=0;i<n;i++) ans[i] = left[i] * right[i];

    for(int i=0;i<n;i++) printf("%d ", ans[i]);

    return 0;
}

// 109. Max Sum Subarray of Size K
#include <stdio.h>

int main() {
    int n, k;
    scanf("%d%d",&n,&k);

    int a[n];
    for(int i=0;i<n;i++) scanf("%d",&a[i]);

    int sum = 0;
    for(int i=0;i<k;i++) sum += a[i];

    int maxSum = sum;

    for(int i=k;i<n;i++) {
        sum += a[i] - a[i-k];
        if(sum > maxSum) maxSum = sum;
    }

    printf("%d", maxSum);
    return 0;
}

// 110. Max of Each Subarray of Size K (Sliding Window, brute)
#include <stdio.h>

int main() {
    int n, k;
    scanf("%d%d",&n,&k);

    int a[n];
    for(int i=0;i<n;i++) scanf("%d",&a[i]);

    for(int i=0;i<=n-k;i++) {
        int mx = a[i];
        for(int j=i;j<i+k;j++) if(a[j] > mx) mx = a[j];
        printf("%d ", mx);
    }
    return 0;
}

